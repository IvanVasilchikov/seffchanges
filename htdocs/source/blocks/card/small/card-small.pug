include ../gallery/card-gallery.pug

mixin card-small(card, className)
  .card-small(class=className)
    a.card-small__link(href=card.link)!= card.title
    .card-small__gallery-wrp
      +card-gallery(card.images, 'card-small__gallery', 'card-small__pagination')
      if (card.deal_type)
        .card-small__label!= card.deal_type
      else
        | <!---->
      if (card.id)
        .card-small__id ID: #{card.id}
      else
        | <!---->

    .card-small__main
      .card-small__content
        .card-small__title!= card.title
        button.card-small__favorite(class=(card.isFav ? 'card-small__favorite--added' : ''), @click='toggleFav()')
          svg
            use(xlink:href=loadAssets('./svg/like.svg'))
        if (card.name)
          .card-small__text.card-small__text--gray!= card.name
        else
          | <!---->
        if (card.address)
          .card-small__text.card-small__text--gray!= card.address
        else
          | <!---->
        if (card.specs)
          .card-small__specs(class='card-small__specs--' + card.card_type)
            each text, spec in card.info
              .card-small__specs-item(class='card-small__specs-item--' + spec)
                if spec === 'ring'
                  svg(height='17', width='17')
                    use(xlink:href=loadAssets('./svg/ring.svg'))
                if spec === 'square'
                  svg(height='14', width='17')
                    use(xlink:href=loadAssets('./svg/ruller.svg'))
                if spec === 'date'
                  svg(height='14', width='14')
                    use(xlink:href=loadAssets('./svg/calendar.svg'))
                if spec === 'facing'
                  svg(height='14', width='14')
                    use(xlink:href=loadAssets('./svg/facing.svg'))
                if spec === 'area'
                  svg(height='14', width='15')
                    use(xlink:href=loadAssets('./svg/fences.svg'))
                if spec === 'rooms'
                  svg(height='14', width='17')
                    use(xlink:href=loadAssets('./svg/room.svg'))
                if spec === 'bedrooms'
                  svg(height='14', width='17')
                    use(xlink:href=loadAssets('./svg/bed.svg'))
                if spec === 'floor'
                  svg(height='14', width='14')
                    use(xlink:href=loadAssets('./svg/apartment.svg'))
                if spec === 'metro'
                  svg(height='18', width='16')
                    use(xlink:href=loadAssets('./svg/bus.svg'))
                if spec === 'forest'
                  svg(height='17', width='17')
                    use(xlink:href=loadAssets('./svg/trees.svg'))
                if spec === 'water'
                  svg(height='17', width='17')
                    use(xlink:href=loadAssets('./svg/waves.svg'))
                if spec === 'parking'
                  svg(height='17', width='17')
                    use(xlink:href=loadAssets('./svg/parking.svg'))
                if spec === 'distance'
                  svg(height='15', width='16')
                    use(xlink:href=loadAssets('./svg/route.svg'))
                if spec === 'gas'
                  svg(height='15', width='16')
                    use(xlink:href=loadAssets('./svg/gas.svg'))
                if spec === 'cleaner'
                  svg(height='15', width='17')
                    use(xlink:href=loadAssets('./svg/septik.svg'))
                if spec === 'pump'
                  svg(height='16', width='16')
                    use(xlink:href=loadAssets('./svg/pumpjack.svg'))
                if spec === 'sewage'
                  svg(height='17', width='16')
                    use(xlink:href=loadAssets('./svg/kanaliz.svg'))
                if spec === 'class'
                  svg(height='13', width='13')
                    use(xlink:href=loadAssets('./svg/class.svg'))
                if spec === 'metro'
                  .card-small__specs-item-text
                    span!= text.station
                    if (text.walk)
                      span!= ', ' + text.walk
                    else
                      | <!---->
                else
                  .card-small__specs-item-text!= text
        else
          | <!---->
      if (card.price)
        .card-small__price!= (card.price.request ? 'По запросу' : card.price.total)
      else
        | <!---->
      if (card.allObjects)
        a.card-small__all-objects(href=card.allObjects.url)!= card.allObjects.text
      else
        | <!---->
